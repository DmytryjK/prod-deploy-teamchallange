"use strict";(self.webpackChunkbuild_for_project=self.webpackChunkbuild_for_project||[]).push([[218],{9218:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var a=s(7148),r=s(5043),c=s(5475),n=s(8295),o=s(1693),i=s(663),l=s(9945),d=s(579);const h=e=>{let{category:t}=e;const[s,a]=(0,r.useState)(),{id:h,name:m,categoryImagePath:u,categoryDtos:p}=t,[g,b]=(0,r.useState)(""),y=(0,l.j)();(0,r.useEffect)((()=>{(0,o.C)(u),(0,o.i)(u).then((e=>{b(e)}))}),[]),(0,r.useEffect)((()=>{p.length>3?a(!0):a(!1)}),[p]);return(0,d.jsxs)("div",{className:"categories-page__card category-card",children:[(0,d.jsx)(c.k2,{className:"category-card__img-link",to:"/catalog/".concat(m),onClick:()=>{y((0,i.yf)(0))},children:(0,d.jsx)(n.A,{children:(0,d.jsx)("img",{className:"category-card__img",width:304,height:200,src:g||u,loading:"lazy",alt:m})})}),(0,d.jsxs)("div",{className:"category-card__content",children:[(0,d.jsx)(c.k2,{className:"category-card__main-link",to:"/catalog/".concat(m),onClick:()=>{y((0,i.yf)(0))},children:m}),(0,d.jsxs)("ul",{className:"category-card__subcategories-list ".concat(s?"hide":""),children:[p.map((e=>{const t=e.name;e.id;return(0,d.jsx)("li",{className:"category-card__subcategories-item",children:(0,d.jsx)(c.k2,{className:"category-card__subcategories-link",to:"/catalog/".concat(m,"/").concat(t),onClick:()=>{y((0,i.yf)(0))},children:e.name})},e.id)})),(()=>{let e;return p.length>3&&(e=(0,d.jsx)("li",{className:"category-card__subcategories-btn",children:(0,d.jsx)("button",{className:"category-card__show-btn",type:"button",onClick:()=>a(!s),children:s?"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0432\u0441\u0456":"\u0417\u0433\u043e\u0440\u043d\u0443\u0442\u0438"})})),e})()]})]})]})};var m=s(483);const u=()=>{const{loading:e,error:t,data:s}=(0,l.G)((e=>e.categories));return(0,d.jsx)("section",{className:"categories-page",children:(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("ul",{className:"succeeded"!==e?"":"categories-page__list",children:(0,m.A)({error:t,loading:e,content:()=>s.map((e=>(0,d.jsx)("li",{className:"categories-page__item",children:(0,d.jsx)(h,{category:e})},e.id)))})})})})},p=(0,r.memo)(u),g=()=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.A,{}),(0,d.jsx)(p,{})]})},7148:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(3216),r=s(5475),c=s(9523),n=s(579);const o=()=>{const e=(0,a.zy)(),t={catalog:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433",product:"\u0422\u043e\u0432\u0430\u0440",cart:"\u041a\u043e\u0448\u0438\u043a",checkout:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",success:"\u0423\u0441\u043f\u0456\u0448\u043d\u043e",cabinet:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442",delivery:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0456 \u043e\u043f\u043b\u0430\u0442\u0430",about:"\u041f\u0440\u043e \u043d\u0430\u0441"},s=e.pathname.split("/").filter((e=>""!==e));let o="";const i=s.map((e=>{const s=decodeURIComponent(e);return o+="/".concat(s),(0,n.jsx)("li",{className:"breadcrumbs__list_item",children:(0,n.jsx)(r.k2,{to:o,className:"breadcrumbs__list_item_link",children:t[e]||s})},e)}));return i.length>0&&i.unshift((0,n.jsx)("li",{className:"breadcrumbs__list_item",children:(0,n.jsx)(r.k2,{to:"/",className:"breadcrumbs__list_item_link",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"})},(0,c.Ay)("crumb-item"))),(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("nav",{className:"breadcrumbs",children:(0,n.jsx)("ol",{className:"breadcrumbs__list",children:i})})})}},1693:(e,t,s)=>{async function a(e){try{const t=await fetch(e),s=await t.blob(),a=await caches.open("image-cache");await a.put(e,new Response(s))}catch(t){console.error("Failed to cache image:",t)}}async function r(e){try{const t=await caches.open("image-cache"),s=await t.match(e);if(s){const e=await s.blob();return URL.createObjectURL(e)}return e}catch(t){return console.error("Failed to get cached image:",t),e}}s.d(t,{C:()=>a,i:()=>r})},8295:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(5043),r=Object.defineProperty,c=(e,t,s)=>(((e,t,s)=>{t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);const n=(e,t)=>typeof getComputedStyle<"u"?getComputedStyle(e,null).getPropertyValue(t):e.style.getPropertyValue(t),o=e=>n(e,"overflow")+n(e,"overflow-y")+n(e,"overflow-x");class i extends a.Component{constructor(e){super(e),c(this,"elementObserver"),c(this,"wrapper"),c(this,"lazyLoadHandler",(e=>{var t,s;const{onContentVisible:a}=this.props,[r]=e,{isIntersecting:c}=r;if(c){this.setState({visible:!0},(()=>{a&&a()}));const e=null==(t=this.wrapper)?void 0:t.current;e&&e instanceof HTMLElement&&(null==(s=this.elementObserver)||s.unobserve(e))}})),this.elementObserver=null,this.wrapper=a.createRef(),this.state={visible:!1}}componentDidMount(){var e;this.getEventNode();const{offset:t,threshold:s}=this.props,a={rootMargin:"number"==typeof t?"".concat(t,"px"):t||"0px",threshold:s||0};this.elementObserver=new IntersectionObserver(this.lazyLoadHandler,a);const r=null==(e=this.wrapper)?void 0:e.current;r instanceof HTMLElement&&this.elementObserver.observe(r)}shouldComponentUpdate(e,t){return t.visible}componentWillUnmount(){var e,t;const s=null==(e=this.wrapper)?void 0:e.current;s&&s instanceof HTMLElement&&(null==(t=this.elementObserver)||t.unobserve(s))}getEventNode(){var e;return(e=>{if(!(e instanceof HTMLElement))return window;let t=e;for(;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(o(t)))return t;t=t.parentNode}return window})(null==(e=this.wrapper)?void 0:e.current)}render(){const{children:e,className:t,height:s,width:r,elementType:c}=this.props,{visible:n}=this.state,o={height:s,width:r},i="LazyLoad".concat(n?" is-visible":"").concat(t?" ".concat(t):"");return(0,a.createElement)(c||"div",{className:i,style:o,ref:this.wrapper},n&&a.Children.only(e))}}c(i,"defaultProps",{elementType:"div",className:"",offset:0,threshold:0,width:null,onContentVisible:null,height:null})}}]);
//# sourceMappingURL=218.d34cfcf7.chunk.js.map